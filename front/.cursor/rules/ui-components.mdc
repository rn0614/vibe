# UI Components Rules

## ğŸ’¡ ë°ì´í„° í‘œì‹œ ì»´í¬ë„ŒíŠ¸ ê°œë°œ ì‹œ ì£¼ì˜ì‚¬í•­

**ë°ì´í„°ë¥¼ í‘œì‹œí•˜ëŠ” ì»´í¬ë„ŒíŠ¸ë¥¼ ê°œë°œí•  ë•ŒëŠ” ë¨¼ì € ì‹¤ì œ ìŠ¤í‚¤ë§ˆë¥¼ í™•ì¸í•˜ì„¸ìš”:**

ğŸ“ **`front/src/shared/types/database.ts`**

```typescript
// âœ… ì˜¬ë°”ë¥¸ ë°©ë²•: ì‹¤ì œ ìŠ¤í‚¤ë§ˆ ê¸°ë°˜ ì»´í¬ë„ŒíŠ¸ Props
import type { Tables } from '@/shared/types/database';

interface TodoCardProps {
  todo: Tables<'tb_todolist'>; // ì‹¤ì œ ìŠ¤í‚¤ë§ˆ í™œìš©
}

// âŒ ì˜ëª»ëœ ë°©ë²•: ì¶”ì¸¡ ê¸°ë°˜ Props
interface TodoCardProps {
  todo: {
    id: number;
    text: string; // ì‹¤ì œë¡œëŠ” 'title'ê³¼ 'description'ì´ ë”°ë¡œ ìˆì„ ìˆ˜ ìˆìŒ!
  };
}
```

## Atomic Design êµ¬ì¡°

### ì»´í¬ë„ŒíŠ¸ ê³„ì¸µ ë¶„ë¥˜

#### Atoms (ì›ì)
```
src/components/atoms/
â”œâ”€â”€ Button/           # ê¸°ë³¸ ë²„íŠ¼ ì»´í¬ë„ŒíŠ¸
â”œâ”€â”€ IconButton/       # ì•„ì´ì½˜ ë²„íŠ¼
â”œâ”€â”€ Input/           # ì…ë ¥ í•„ë“œ
â””â”€â”€ Logo/            # ë¡œê³  ì»´í¬ë„ŒíŠ¸
```

**íŠ¹ì§•:**
- ê°€ì¥ ì‘ì€ ë‹¨ìœ„ì˜ UI ì»´í¬ë„ŒíŠ¸
- ì¬ì‚¬ìš©ì„±ì´ ë†’ê³  ë…ë¦½ì 
- ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ ì—†ìŒ
- Propsë¡œë§Œ ë™ì‘ ì œì–´

#### Molecules (ë¶„ì)
```
src/components/molecules/
â”œâ”€â”€ AuthActions/      # ë¡œê·¸ì¸ ë²„íŠ¼ ë“± ì¸ì¦ ê´€ë ¨ ì•¡ì…˜
â”œâ”€â”€ BrandSection/     # ë¸Œëœë“œ ì„¹ì…˜ (ë¡œê³  + í–„ë²„ê±° ë©”ë‰´)
â”œâ”€â”€ NavigationItem/   # ë„¤ë¹„ê²Œì´ì…˜ ì•„ì´í…œ
â”œâ”€â”€ ThemeToggle/      # í…Œë§ˆ í† ê¸€ ë²„íŠ¼
â””â”€â”€ UserDropdown/     # ì‚¬ìš©ì ë“œë¡­ë‹¤ìš´ ë©”ë‰´
```

**íŠ¹ì§•:**
- 2ê°œ ì´ìƒì˜ Atomsë¡œ êµ¬ì„±
- íŠ¹ì • ê¸°ëŠ¥ì„ ë‹´ë‹¹
- ê°„ë‹¨í•œ ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ í¬í•¨ ê°€ëŠ¥
- ì¬ì‚¬ìš© ê°€ëŠ¥í•œ ê¸°ëŠ¥ ë‹¨ìœ„

#### Organisms (ìœ ê¸°ì²´)
```
src/components/organisms/
â”œâ”€â”€ AppHeader/        # ì• í”Œë¦¬ì¼€ì´ì…˜ í—¤ë”
â”œâ”€â”€ AppSidebar/       # ì‚¬ì´ë“œë°”
â””â”€â”€ AuthUI/           # ì¸ì¦ UI ë¸”ë¡
```

**íŠ¹ì§•:**
- Atomsì™€ Moleculesì˜ ì¡°í•©
- ë³µì¡í•œ ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ í¬í•¨
- í˜ì´ì§€ì˜ ì£¼ìš” ì„¹ì…˜ ë‹¨ìœ„
- ì»¤ìŠ¤í…€ í›…ê³¼ ì—°ë™

#### Templates (í…œí”Œë¦¿)
```
src/components/templates/
â””â”€â”€ MainLayout/       # ë©”ì¸ ë ˆì´ì•„ì›ƒ í…œí”Œë¦¿
```

**íŠ¹ì§•:**
- í˜ì´ì§€ ì „ì²´ êµ¬ì¡° ì •ì˜
- ì—¬ëŸ¬ Organisms ì¡°í•©
- ë ˆì´ì•„ì›ƒê³¼ ë°°ì¹˜ì— ì§‘ì¤‘
- ì½˜í…ì¸ ëŠ” childrenìœ¼ë¡œ ì£¼ì…

## ì»´í¬ë„ŒíŠ¸ íŒŒì¼ êµ¬ì¡°

### í‘œì¤€ ì»´í¬ë„ŒíŠ¸ êµ¬ì¡°
```
ComponentName/
â”œâ”€â”€ ComponentName.tsx          # ë©”ì¸ ì»´í¬ë„ŒíŠ¸
â”œâ”€â”€ ComponentName.module.scss  # ì»´í¬ë„ŒíŠ¸ ì „ìš© ìŠ¤íƒ€ì¼
â””â”€â”€ index.ts                   # re-export
```

### ì»´í¬ë„ŒíŠ¸ íŒŒì¼ í…œí”Œë¦¿
```typescript
// ComponentName.tsx
import type { ReactNode } from "react";
import styles from "./ComponentName.module.scss";

export interface ComponentNameProps {
  children?: ReactNode;
  variant?: "primary" | "secondary";
  size?: "sm" | "md" | "lg";
  disabled?: boolean;
  className?: string;
  onClick?: () => void;
}

export const ComponentName: React.FC<ComponentNameProps> = ({
  children,
  variant = "primary",
  size = "md",
  disabled = false,
  className = "",
  onClick,
  ...props
}) => {
  const componentClass = [
    styles.component,
    styles[variant],
    styles[size],
    disabled && styles.disabled,
    className,
  ]
    .filter(Boolean)
    .join(" ");

  return (
    <div className={componentClass} onClick={onClick} {...props}>
      {children}
    </div>
  );
};
```

### index.ts í…œí”Œë¦¿
```typescript
// index.ts
export { ComponentName } from './ComponentName';
export type { ComponentNameProps } from './ComponentName';
```

## Bootstrap í†µí•© íŒ¨í„´

### Bootstrap ì»´í¬ë„ŒíŠ¸ í™œìš©
```typescript
// React Bootstrapê³¼ ì»¤ìŠ¤í…€ ì»´í¬ë„ŒíŠ¸ ì¡°í•©
import { Dropdown } from 'react-bootstrap';
import { IconButton } from '@/components/atoms/IconButton';

export const UserDropdown: React.FC<UserDropdownProps> = ({
  userEmail,
  onSignOut,
  isSigningOut = false,
}) => {
  return (
    <Dropdown drop="down" align="end">
      <Dropdown.Toggle 
        as={IconButton}           // ì»¤ìŠ¤í…€ ì»´í¬ë„ŒíŠ¸ë¥¼ Bootstrap Toggleë¡œ ì‚¬ìš©
        icon="ğŸ‘¤"
      />
      <Dropdown.Menu>
        <Dropdown.ItemText>
          <small className="text-body-secondary">{userEmail}</small>
        </Dropdown.ItemText>    
        <Dropdown.Divider />
        <Dropdown.Item onClick={onSignOut} disabled={isSigningOut}>
          {isSigningOut ? 'ë¡œê·¸ì•„ì›ƒ ì¤‘...' : 'ë¡œê·¸ì•„ì›ƒ'}
        </Dropdown.Item>
      </Dropdown.Menu>
    </Dropdown>
  );
};
```

### Bootstrap í´ë˜ìŠ¤ì™€ ì»¤ìŠ¤í…€ ìŠ¤íƒ€ì¼ ì¡°í•©
```typescript
// Bootstrap utility í´ë˜ìŠ¤ + ì»¤ìŠ¤í…€ ìŠ¤íƒ€ì¼
<Navbar 
  bg="body-tertiary" 
  expand="lg" 
  className={`border-bottom sticky-top ${styles.appHeader} ${className}`}
>
  <Container fluid>
    <div className="d-flex align-items-center">  {/* Bootstrap utility */}
      <ThemeToggle className="me-2" />           {/* Bootstrap margin */}
      {/* ... */}
    </div>
  </Container>
</Navbar>
```

## Props ì¸í„°í˜ì´ìŠ¤ ì„¤ê³„

### ê³µí†µ Props íŒ¨í„´
```typescript
// ê¸°ë³¸ Props ì¸í„°í˜ì´ìŠ¤
export interface BaseComponentProps {
  children?: ReactNode;
  className?: string;
  id?: string;
}

// ìƒí˜¸ì‘ìš© ê°€ëŠ¥í•œ ì»´í¬ë„ŒíŠ¸
export interface InteractiveProps extends BaseComponentProps {
  disabled?: boolean;
  loading?: boolean;
  onClick?: () => void;
}

// í¼ ê´€ë ¨ ì»´í¬ë„ŒíŠ¸
export interface FormControlProps extends InteractiveProps {
  value?: string;
  onChange?: (value: string) => void;
  placeholder?: string;
  error?: string;
  required?: boolean;
}

// í¬ê¸° ë³€í˜• ì§€ì›
export interface SizableProps {
  size?: "sm" | "md" | "lg";
}

// ìƒ‰ìƒ ë³€í˜• ì§€ì›
export interface VariantProps {
  variant?: "primary" | "secondary" | "outline" | "ghost" | "danger";
}
```

### Button ì»´í¬ë„ŒíŠ¸ Props ì˜ˆì‹œ
```typescript
export interface ButtonProps extends ButtonHTMLAttributes<HTMLButtonElement> {
  children: ReactNode;
  variant?: "primary" | "secondary" | "outline" | "ghost" | "danger";
  size?: "sm" | "md" | "lg";
  fullWidth?: boolean;
  loading?: boolean;
  startIcon?: ReactNode;
  endIcon?: ReactNode;
}
```

### Props ë„¤ì´ë° ê·œì¹™
```typescript
// âœ… ê¶Œì¥
isLoading          // boolean íƒ€ì…ì€ is, has, can ì ‘ë‘ì‚¬
onSubmit           // ì´ë²¤íŠ¸ í•¸ë“¤ëŸ¬ëŠ” on ì ‘ë‘ì‚¬
startIcon          // ëª…í™•í•œ ìœ„ì¹˜ë‚˜ ì—­í•  í‘œì‹œ
variant            // ë³€í˜• íƒ€ì…
size               // í¬ê¸° íƒ€ì…

// âŒ ë¹„ê¶Œì¥
loading            // booleanì´ì§€ë§Œ is ì ‘ë‘ì‚¬ ì—†ìŒ
submit             // ì´ë²¤íŠ¸ í•¸ë“¤ëŸ¬ì§€ë§Œ on ì ‘ë‘ì‚¬ ì—†ìŒ
leftIcon           // start/endê°€ ë” ì˜ë¯¸ì ìœ¼ë¡œ ëª…í™•
type               // ë„ˆë¬´ ì¼ë°˜ì 
big                // sizeë¡œ í†µì¼
```

## ìŠ¤íƒ€ì¼ë§ íŒ¨í„´

### CSS Module ë„¤ì´ë°
```scss
// ComponentName.module.scss

// BEM ìŠ¤íƒ€ì¼ í´ë˜ìŠ¤ ë„¤ì´ë°
.component {           // ì»´í¬ë„ŒíŠ¸ ê¸°ë³¸ í´ë˜ìŠ¤
  @include button-base;
  position: relative;
  
  &:focus-visible {
    outline: 2px solid var(--color-primary);
  }
}

// Variants (ë³€í˜•)
.primary { /* primary ìŠ¤íƒ€ì¼ */ }
.secondary { /* secondary ìŠ¤íƒ€ì¼ */ }
.outline { /* outline ìŠ¤íƒ€ì¼ */ }

// Sizes (í¬ê¸°)
.sm { /* small ìŠ¤íƒ€ì¼ */ }
.md { /* medium ìŠ¤íƒ€ì¼ */ }
.lg { /* large ìŠ¤íƒ€ì¼ */ }

// Modifiers (ìˆ˜ì‹ì–´)
.fullWidth { width: 100%; }
.loading { cursor: wait; }
.disabled { opacity: 0.6; }

// Elements (í•˜ìœ„ ìš”ì†Œ)
.content { /* ì½˜í…ì¸  ì˜ì—­ */ }
.startIcon { /* ì‹œì‘ ì•„ì´ì½˜ */ }
.endIcon { /* ë ì•„ì´ì½˜ */ }
.spinner { /* ë¡œë”© ìŠ¤í”¼ë„ˆ */ }
```

### CSS ë³€ìˆ˜ í™œìš©
```scss
// CSS ë³€ìˆ˜ë¥¼ ì ê·¹ í™œìš©
.primary {
  background-color: var(--color-primary);
  color: var(--color-white);
  
  &:hover:not(:disabled) {
    background-color: var(--color-primary-dark);
  }
}

// í¬ê¸°ë³„ ê°„ê²©ê³¼ í°íŠ¸ ì‚¬ì´ì¦ˆ
.sm {
  padding: var(--spacing-2) var(--spacing-3);
  font-size: var(--font-size-sm);
  min-height: 2rem;
}

.md {
  padding: var(--spacing-3) var(--spacing-4);
  font-size: var(--font-size-base);
  min-height: 2.5rem;
}
```

### SCSS Mixins í™œìš©
```scss
// _mixins.scss
@mixin button-base {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  border: none;
  border-radius: var(--border-radius);
  font-weight: var(--font-weight-medium);
  text-decoration: none;
  cursor: pointer;
  transition: all 0.2s ease;
  
  &:disabled {
    opacity: 0.6;
    cursor: not-allowed;
  }
}

// ì»´í¬ë„ŒíŠ¸ì—ì„œ ì‚¬ìš©
.button {
  @include button-base;
  // ì¶”ê°€ ìŠ¤íƒ€ì¼...
}
```

## ì»´í¬ë„ŒíŠ¸ ì¡°í•© íŒ¨í„´

### Compound Components íŒ¨í„´
```typescript
// ë³µí•© ì»´í¬ë„ŒíŠ¸ íŒ¨í„´ (ì˜ˆ: Card ì»´í¬ë„ŒíŠ¸)
const Card = {
  Root: CardRoot,
  Header: CardHeader,
  Body: CardBody,
  Footer: CardFooter,
};

// ì‚¬ìš©ë²•
<Card.Root>
  <Card.Header>
    <h3>ì œëª©</h3>
  </Card.Header>
  <Card.Body>
    <p>ë‚´ìš©</p>
  </Card.Body>
  <Card.Footer>
    <Button>ì•¡ì…˜</Button>
  </Card.Footer>
</Card.Root>
```

### Render Props íŒ¨í„´
```typescript
// ë Œë” í”„ë¡­ íŒ¨í„´ (ì˜ˆ: Modal ì»´í¬ë„ŒíŠ¸)
interface ModalProps {
  trigger: (openModal: () => void) => ReactNode;
  children: (closeModal: () => void) => ReactNode;
}

export const Modal: React.FC<ModalProps> = ({ trigger, children }) => {
  const [isOpen, setIsOpen] = useState(false);

  return (
    <>
      {trigger(() => setIsOpen(true))}
      {isOpen && (
        <div className={styles.modalBackdrop}>
          <div className={styles.modalContent}>
            {children(() => setIsOpen(false))}
          </div>
        </div>
      )}
    </>
  );
};

// ì‚¬ìš©ë²•
<Modal
  trigger={(open) => <Button onClick={open}>ëª¨ë‹¬ ì—´ê¸°</Button>}
>
  {(close) => (
    <div>
      <h2>ëª¨ë‹¬ ì œëª©</h2>
      <p>ëª¨ë‹¬ ë‚´ìš©</p>
      <Button onClick={close}>ë‹«ê¸°</Button>
    </div>
  )}
</Modal>
```

## ì ‘ê·¼ì„± (a11y) ê°€ì´ë“œ

### ê¸°ë³¸ ì ‘ê·¼ì„± ê·œì¹™
```typescript
// ì˜ë¯¸ì  HTML ì‚¬ìš©
<button type="button" aria-label="ë‹«ê¸°" onClick={onClose}>
  Ã—
</button>

// roleê³¼ aria ì†ì„± í™œìš©
<div 
  role="button" 
  tabIndex={0}
  aria-pressed={isPressed}
  onKeyDown={handleKeyDown}
  onClick={onClick}
>
  í† ê¸€ ë²„íŠ¼
</div>

// í¬ì»¤ìŠ¤ ê´€ë¦¬
<input
  ref={inputRef}
  aria-describedby={error ? `${id}-error` : undefined}
  aria-invalid={!!error}
/>
{error && (
  <div id={`${id}-error`} role="alert">
    {error}
  </div>
)}
```

### í‚¤ë³´ë“œ ë„¤ë¹„ê²Œì´ì…˜
```typescript
const handleKeyDown = (e: KeyboardEvent<HTMLDivElement>) => {
  switch (e.key) {
    case 'Enter':
    case ' ': // ìŠ¤í˜ì´ìŠ¤ë°”
      e.preventDefault();
      onClick?.();
      break;
    case 'Escape':
      onClose?.();
      break;
  }
};
```

## ì»´í¬ë„ŒíŠ¸ í…ŒìŠ¤íŠ¸ íŒ¨í„´

### ê¸°ë³¸ í…ŒìŠ¤íŠ¸ êµ¬ì¡°
```typescript
// Button.test.tsx
import { render, screen } from '@testing-library/react';
import userEvent from '@testing-library/user-event';
import { Button } from './Button';

describe('Button', () => {
  it('renders with correct text', () => {
    render(<Button>í´ë¦­</Button>);
    expect(screen.getByRole('button', { name: 'í´ë¦­' })).toBeInTheDocument();
  });

  it('calls onClick when clicked', async () => {
    const user = userEvent.setup();
    const handleClick = jest.fn();
    
    render(<Button onClick={handleClick}>í´ë¦­</Button>);
    
    await user.click(screen.getByRole('button'));
    expect(handleClick).toHaveBeenCalledTimes(1);
  });

  it('shows loading state', () => {
    render(<Button loading>ë¡œë”©</Button>);
    expect(screen.getByRole('button')).toHaveClass('loading');
  });
});
```

## ì„±ëŠ¥ ìµœì í™”

### React.memo ì‚¬ìš© ê¸°ì¤€
```typescript
// âœ… memo ì‚¬ìš©ì´ ì ì ˆí•œ ê²½ìš°
export const ExpensiveComponent = React.memo<ExpensiveComponentProps>(({
  data,
  onUpdate
}) => {
  // ë³µì¡í•œ ë Œë”ë§ ë¡œì§
  return <div>{/* ... */}</div>;
});

// ì»¤ìŠ¤í…€ ë¹„êµ í•¨ìˆ˜
export const OptimizedComponent = React.memo(Component, (prevProps, nextProps) => {
  return prevProps.id === nextProps.id && prevProps.status === nextProps.status;
});
```

### useMemoì™€ useCallback í™œìš©
```typescript
const MyComponent: React.FC<Props> = ({ items, filter }) => {
  // ë¹„ìš©ì´ í° ê³„ì‚° ë©”ëª¨ì´ì œì´ì…˜
  const filteredItems = useMemo(() => {
    return items.filter(item => item.category === filter);
  }, [items, filter]);

  // ì´ë²¤íŠ¸ í•¸ë“¤ëŸ¬ ë©”ëª¨ì´ì œì´ì…˜
  const handleItemClick = useCallback((id: string) => {
    onItemSelect(id);
  }, [onItemSelect]);

  return (
    <div>
      {filteredItems.map(item => (
        <Item key={item.id} data={item} onClick={handleItemClick} />
      ))}
    </div>
  );
};
```

## ì»´í¬ë„ŒíŠ¸ ë¼ì´ë¸ŒëŸ¬ë¦¬ êµ¬ì„±

### ì»´í¬ë„ŒíŠ¸ Export êµ¬ì¡°
```typescript
// src/components/index.ts

// Atoms
export { Button } from './atoms/Button';
export { IconButton } from './atoms/IconButton';
export { Input } from './atoms/Input';
export { Logo } from './atoms/Logo';

// Molecules  
export { ThemeToggle } from './molecules/ThemeToggle';
export { UserDropdown } from './molecules/UserDropdown';
export { LoginButton } from './molecules/AuthActions/LoginButton';

// Organisms
export { AppHeader } from './organisms/AppHeader';
export { AppSidebar } from './organisms/AppSidebar';
export { AuthUI } from './organisms/AuthUI';

// Templates
export { MainLayout } from './templates/MainLayout';

// Types
export type { ButtonProps } from './atoms/Button';
export type { AppHeaderProps } from './organisms/AppHeader';
// ... ë‹¤ë¥¸ íƒ€ì…ë“¤
```