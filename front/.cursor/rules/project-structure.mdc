# Project Structure Rules

## âš ï¸ ë°ì´í„°ë² ì´ìŠ¤ ìŠ¤í‚¤ë§ˆ ì°¸ì¡° ìš°ì„ ìˆœìœ„

**ì–´ë–¤ ê¸°ëŠ¥ì„ ê°œë°œí•˜ë“  ê°€ì¥ ë¨¼ì € í™•ì¸í•´ì•¼ í•  íŒŒì¼:**

ğŸ“ **`front/src/shared/types/database.ts`**

- **Supabaseì—ì„œ ìë™ ìƒì„±**ëœ ì‹¤ì œ ë°ì´í„°ë² ì´ìŠ¤ ìŠ¤í‚¤ë§ˆ
- **ëª¨ë“  í…Œì´ë¸” êµ¬ì¡°ì™€ íƒ€ì… ì •ë³´** í¬í•¨
- **ì¶”ì¸¡ì´ë‚˜ ê°€ì • ê¸ˆì§€**: ë°˜ë“œì‹œ ì´ íŒŒì¼ ê¸°ì¤€ìœ¼ë¡œ ê°œë°œ
- ìŠ¤í‚¤ë§ˆ ë³€ê²½ ì‹œ `npm run supabase:types` ì‹¤í–‰í•˜ì—¬ ë™ê¸°í™”

```typescript
// âœ… ê°œë°œ ì‹œì‘ ì „ í•„ìˆ˜ í™•ì¸
import type { Tables, TablesInsert, TablesUpdate } from '@/shared/types/database';

// ì‹¤ì œ ìŠ¤í‚¤ë§ˆ í™•ì¸ í›„ íƒ€ì… ì •ì˜
type TodoItem = Tables<'tb_todolist'>;
type UserProfile = Tables<'users'>;
```

## í´ë” êµ¬ì¡°

```
src/
â”œâ”€â”€ app/                        # ì•± ë ˆë²¨ ì„¤ì • ë° êµ¬ì„±
â”‚   â”œâ”€â”€ providers/              # ê¸€ë¡œë²Œ Provider ì»´í¬ë„ŒíŠ¸ë“¤
â”‚   â”‚   â”œâ”€â”€ auth/              # ì¸ì¦ ê´€ë ¨ Provider
â”‚   â”‚   â””â”€â”€ query/             # TanStack Query Provider
â”‚   â”œâ”€â”€ routers/               # ë¼ìš°íŒ… ì„¤ì •
â”‚   â”œâ”€â”€ store/                 # ê¸€ë¡œë²Œ ìƒíƒœ ê´€ë¦¬ (Zustand)
â”‚   â””â”€â”€ styles/                # ê¸€ë¡œë²Œ ìŠ¤íƒ€ì¼ ì„¤ì •
â”‚       â”œâ”€â”€ _variables.scss    # CSS ë³€ìˆ˜ ì •ì˜
â”‚       â”œâ”€â”€ _mixins.scss       # SCSS ë¯¹ìŠ¤ì¸
â”‚       â””â”€â”€ global.scss        # ê¸€ë¡œë²Œ ìŠ¤íƒ€ì¼
â”œâ”€â”€ components/                 # UI ì»´í¬ë„ŒíŠ¸ (Atomic Design)
â”‚   â”œâ”€â”€ atoms/                 # ê¸°ë³¸ ë‹¨ìœ„ ì»´í¬ë„ŒíŠ¸
â”‚   â”œâ”€â”€ molecules/             # ì¡°í•©ëœ ê¸°ëŠ¥ ì»´í¬ë„ŒíŠ¸
â”‚   â”œâ”€â”€ organisms/             # ë³µí•© ê¸°ëŠ¥ ì»´í¬ë„ŒíŠ¸
â”‚   â””â”€â”€ templates/             # ë ˆì´ì•„ì›ƒ í…œí”Œë¦¿
â”œâ”€â”€ domains/                   # ë„ë©”ì¸ë³„ ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§
â”‚   â”œâ”€â”€ auth/                  # ì¸ì¦ ê´€ë ¨ ë¡œì§
â”‚   â”‚   â””â”€â”€ hooks/             # ì¸ì¦ ê´€ë ¨ ì»¤ìŠ¤í…€ í›…
â”‚   â”œâ”€â”€ supabaseCommon/        # Supabase ê³µí†µ ë¡œì§
â”‚   â”‚   â””â”€â”€ hooks/             # Supabase ê´€ë ¨ í›…
â”‚   â””â”€â”€ theme/                 # í…Œë§ˆ ê´€ë ¨ ë¡œì§
â”œâ”€â”€ pages/                     # í˜ì´ì§€ ì»´í¬ë„ŒíŠ¸ë“¤
â”œâ”€â”€ shared/                    # ê³µí†µ ìœ í‹¸ë¦¬í‹° ë° ì„¤ì •
â”‚   â”œâ”€â”€ api/                   # API ê´€ë ¨ ì„¤ì •
â”‚   â”‚   â”œâ”€â”€ client.ts          # API í´ë¼ì´ì–¸íŠ¸ ì„¤ì •
â”‚   â”‚   â”œâ”€â”€ supabase.ts        # Supabase í´ë¼ì´ì–¸íŠ¸
â”‚   â”‚   â””â”€â”€ index.ts           # API exports
â”‚   â”œâ”€â”€ constants/             # ìƒìˆ˜ ì •ì˜
â”‚   â”œâ”€â”€ lib/                   # ì™¸ë¶€ ë¼ì´ë¸ŒëŸ¬ë¦¬ ì„¤ì •
â”‚   â””â”€â”€ types/                 # ğŸ”¥ ì¤‘ìš”: TypeScript íƒ€ì… ì •ì˜
      â”œâ”€â”€ database.ts        # âš ï¸ Supabase ìë™ìƒì„± ìŠ¤í‚¤ë§ˆ (í•µì‹¬ ì°¸ì¡° íŒŒì¼)
      â”œâ”€â”€ api.ts             # API ì‘ë‹µ ê´€ë ¨ íƒ€ì…
      â””â”€â”€ common.ts          # ê³µí†µ íƒ€ì… ì •ì˜
â””â”€â”€ main.tsx                   # ì•± ì—”íŠ¸ë¦¬ í¬ì¸íŠ¸
```

## ë„¤ì´ë° ì»¨ë²¤ì…˜

### íŒŒì¼/í´ë” ë„¤ì´ë°
- **ì»´í¬ë„ŒíŠ¸ íŒŒì¼**: PascalCase (Button.tsx, UserDropdown.tsx)
- **ì»´í¬ë„ŒíŠ¸ í´ë”**: PascalCase (Button/, UserDropdown/)
- **í›… íŒŒì¼**: camelCase (useAuth.ts, useTheme.ts)
- **ìœ í‹¸ë¦¬í‹° íŒŒì¼**: camelCase (api.ts, constants.ts)
- **í˜ì´ì§€ ì»´í¬ë„ŒíŠ¸**: PascalCase + "Page" suffix (HomePage.tsx, LoginPage.tsx)
- **ìŠ¤íƒ€ì¼ íŒŒì¼**: kebab-case ë˜ëŠ” ëª¨ë“ˆëª… (global.scss, Button.module.scss)

### ë””ë ‰í† ë¦¬ ë„¤ì´ë°
- **ì¼ë°˜ í´ë”**: camelCase (supabaseCommon, authActions)
- **ì»´í¬ë„ŒíŠ¸ í´ë”**: PascalCase (Button, UserDropdown)
- **ë„ë©”ì¸ í´ë”**: camelCase (auth, theme)

### ì¸ë±ìŠ¤ íŒŒì¼ íŒ¨í„´
ê° ì»´í¬ë„ŒíŠ¸ í´ë”ëŠ” ë‹¤ìŒ êµ¬ì¡°ë¥¼ ê°€ì§‘ë‹ˆë‹¤:
```
ComponentName/
â”œâ”€â”€ ComponentName.tsx          # ë©”ì¸ ì»´í¬ë„ŒíŠ¸
â”œâ”€â”€ ComponentName.module.scss  # ì»´í¬ë„ŒíŠ¸ ì „ìš© ìŠ¤íƒ€ì¼
â””â”€â”€ index.ts                   # re-export
```

## TypeScript ì„¤ì •

### tsconfig.json êµ¬ì¡°
```json
{
  "files": [],
  "references": [
    { "path": "./tsconfig.app.json" },
    { "path": "./tsconfig.node.json" }
  ]
}
```

### ì£¼ìš” ì»´íŒŒì¼ëŸ¬ ì˜µì…˜ (tsconfig.app.json)
- **target**: ES2022
- **module**: ESNext
- **moduleResolution**: bundler
- **jsx**: react-jsx
- **strict**: true
- **noUnusedLocals**: true
- **noUnusedParameters**: true

### ì ˆëŒ€ ê²½ë¡œ Import ì„¤ì •

#### Path Aliases
```json
"paths": {
  "@/*": ["./src/*"],
  "@/atoms": ["src/components/atoms"],
  "@/atoms/*": ["src/components/atoms/*"],
  "@/molecules": ["src/components/molecules"],
  "@/molecules/*": ["src/components/molecules/*"],
  "@/organisms": ["src/components/organisms"],
  "@/organisms/*": ["src/components/organisms/*"],
  "@/templates": ["src/components/templates"],
  "@/templates/*": ["src/components/templates/*"],
  "@/pages": ["./src/pages"],
  "@/pages/*": ["./src/pages/*"],
  "@/hooks": ["./src/hooks"],
  "@/hooks/*": ["./src/hooks/*"],
  "@/app": ["./src/app"],
  "@/app/*": ["./src/app/*"]
}
```

#### Vite Alias ì„¤ì •
```typescript
resolve: {
  alias: {
    '@': path.resolve(__dirname, './src'),
    '@/atoms': path.resolve(__dirname, './src/components/atoms'),
    '@/molecules': path.resolve(__dirname, './src/components/molecules'),
    '@/organisms': path.resolve(__dirname, './src/components/organisms'),
    '@/templates': path.resolve(__dirname, './src/components/templates'),
    '@/pages': path.resolve(__dirname, './src/pages'),
    '@/hooks': path.resolve(__dirname, './src/hooks'),
    '@/app': path.resolve(__dirname, './src/app'),
  },
}
```

#### Import ì˜ˆì‹œ
```typescript
// âœ… ê¶Œì¥
import { Button } from '@/atoms/Button';
import { UserDropdown } from '@/molecules/UserDropdown';
import { supabase } from '@/shared/api/supabase';
import { useAuth } from '@/domains/auth/hooks/useAuth';

// âŒ ë¹„ê¶Œì¥
import { Button } from '../../../components/atoms/Button';
```

## í™˜ê²½ íŒŒì¼ ê´€ë¦¬

### í™˜ê²½ ë³€ìˆ˜ êµ¬ì¡°
```
.env.local              # ë¡œì»¬ ê°œë°œìš© (gitignore)
.env.example           # í™˜ê²½ ë³€ìˆ˜ í…œí”Œë¦¿
```

### í•„ìˆ˜ í™˜ê²½ ë³€ìˆ˜
```bash
# Supabase ì„¤ì •
VITE_SUPABASE_URL=your_supabase_url
VITE_SUPABASE_ANON_KEY=your_supabase_anon_key
VITE_SUPABASE_PROJECT_ID=your_project_id

# ì•± ì„¤ì •
VITE_APP_URL=http://localhost:5173
```

### í™˜ê²½ ë³€ìˆ˜ ì‚¬ìš©ë²•
```typescript
// âœ… íƒ€ì… ì•ˆì „í•œ ë°©ì‹
const supabaseUrl = import.meta.env.VITE_SUPABASE_URL;
const supabaseKey = import.meta.env.VITE_SUPABASE_ANON_KEY;

// í™˜ê²½ ë³€ìˆ˜ ê²€ì¦
if (!supabaseUrl || !supabaseKey) {
  throw new Error('VITE_SUPABASE_URLê³¼ VITE_SUPABASE_ANON_KEY í™˜ê²½ë³€ìˆ˜ê°€ í•„ìš”í•©ë‹ˆë‹¤.');
}
```

## íŒ¨í‚¤ì§€ ë§¤ë‹ˆì € ë° ìŠ¤í¬ë¦½íŠ¸

### NPM ìŠ¤í¬ë¦½íŠ¸
```json
{
  "scripts": {
    "dev": "vite",
    "build": "tsc -b && vite build",
    "lint": "eslint .",
    "preview": "vite preview",
    "supabase:types": "dotenv -e .env -- powershell -Command \"supabase gen types typescript --project-id $env:VITE_SUPABASE_PROJECT_ID --schema public > src/shared/types/database.ts\"",
    // âš ï¸ ì¤‘ìš”: ì´ ìŠ¤í¬ë¦½íŠ¸ëŠ” ì‹¤ì œ Supabase ìŠ¤í‚¤ë§ˆì—ì„œ database.tsë¥¼ ìë™ ìƒì„±í•©ë‹ˆë‹¤
    // ë°ì´í„°ë² ì´ìŠ¤ êµ¬ì¡° ë³€ê²½ ì‹œ ë°˜ë“œì‹œ ì‹¤í–‰í•˜ì—¬ íƒ€ì…ì„ ë™ê¸°í™”í•˜ì„¸ìš”!
    "test:e2e": "playwright test",
    "test:e2e:ui": "playwright test --ui",
    "test:e2e:codegen": "playwright codegen http://localhost:5173"
  }
}
```

### ì£¼ìš” ì˜ì¡´ì„±
```json
{
  "dependencies": {
    "@supabase/supabase-js": "^2.54.0",
    "@tanstack/react-query": "^5.84.2",
    "bootstrap": "^5.3.7",
    "react": "^19.1.1",
    "react-bootstrap": "^2.10.10",
    "react-router-dom": "^7.8.0",
    "sass": "^1.90.0",
    "zustand": "^5.0.7"
  }
}
```

## íŒŒì¼ ìƒì„± ê·œì¹™

### ì»´í¬ë„ŒíŠ¸ ìƒì„± ì‹œ
1. í´ë” ìƒì„±: `src/components/{atoms|molecules|organisms|templates}/ComponentName/`
2. í•„ìˆ˜ íŒŒì¼ ìƒì„±:
   - `ComponentName.tsx` (ë©”ì¸ ì»´í¬ë„ŒíŠ¸)
   - `ComponentName.module.scss` (ìŠ¤íƒ€ì¼)
   - `index.ts` (re-export)

### ì»¤ìŠ¤í…€ í›… ìƒì„± ì‹œ
1. ìœ„ì¹˜: `src/domains/{domainName}/hooks/`
2. ë„¤ì´ë°: `use{HookName}.ts`
3. ë„ë©”ì¸ë³„ ë¶„ë¦¬ ì›ì¹™ ì¤€ìˆ˜

### í˜ì´ì§€ ìƒì„± ì‹œ
1. ìœ„ì¹˜: `src/pages/PageName/`
2. íŒŒì¼ëª…: `PageName.tsx`
3. ë¼ìš°í„°ì— ë“±ë¡ í•„ìš”

## ë¹Œë“œ ë° ê°œë°œ í™˜ê²½

### Vite ì„¤ì •
- **ë²ˆë“¤ëŸ¬**: Vite
- **CSS ì „ì²˜ë¦¬ê¸°**: SCSS
- **ê°œë°œ ì„œë²„**: 5173 í¬íŠ¸
- **ë¹Œë“œ ì¶œë ¥**: dist/

### CSS ì „ì²˜ë¦¬ê¸° ì„¤ì •
```typescript
css: {
  preprocessorOptions: {
    scss: {
      includePaths: [path.resolve(__dirname, 'src')],
    },
  },
}
```

### ë¸Œë¼ìš°ì € ì§€ì›
- ES2022+ ì§€ì› ë¸Œë¼ìš°ì €
- ëª¨ë˜ ë¸Œë¼ìš°ì € ìš°ì„  ì§€ì›